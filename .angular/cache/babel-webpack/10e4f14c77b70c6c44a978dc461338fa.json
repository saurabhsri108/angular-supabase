{"ast":null,"code":"import _asyncToGenerator from \"/home/saurabhsrivastava/projects/angular-projects/angular-supabase/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../supabase.service\";\nexport class AuthComponent {\n  constructor(supabase) {\n    this.supabase = supabase;\n    this.loading = false;\n  }\n\n  handleLogin(input) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        _this.loading = true;\n        yield _this.supabase.signIn(input);\n        alert('Check your email for the login link!');\n      } catch (error) {\n        alert(error.error_description || error.message);\n      } finally {\n        _this.loading = false;\n      }\n    })();\n  }\n\n}\n\nAuthComponent.ɵfac = function AuthComponent_Factory(t) {\n  return new (t || AuthComponent)(i0.ɵɵdirectiveInject(i1.SupabaseService));\n};\n\nAuthComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AuthComponent,\n  selectors: [[\"app-auth\"]],\n  decls: 12,\n  vars: 2,\n  consts: [[1, \"row\", \"flex\", \"flex-center\"], [1, \"col-6\", \"form-widget\"], [1, \"header\"], [1, \"description\"], [\"type\", \"email\", \"placeholder\", \"Your email\", 1, \"inputField\"], [\"input\", \"\"], [\"type\", \"submit\", 1, \"button\", \"block\", 3, \"disabled\", \"click\"]],\n  template: function AuthComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r1 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"form\", 1);\n      i0.ɵɵelementStart(2, \"h1\", 2);\n      i0.ɵɵtext(3, \"Supabase + Angular\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"p\", 3);\n      i0.ɵɵtext(5, \"Sign in via magic link with your email below\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\");\n      i0.ɵɵelement(7, \"input\", 4, 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\");\n      i0.ɵɵelementStart(10, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function AuthComponent_Template_button_click_10_listener() {\n        i0.ɵɵrestoreView(_r1);\n\n        const _r0 = i0.ɵɵreference(8);\n\n        return ctx.handleLogin(_r0.value);\n      });\n      i0.ɵɵtext(11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"disabled\", ctx.loading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\" \", ctx.loading ? \"Loading\" : \"Send magic link\", \" \");\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhdXRoLmNvbXBvbmVudC5zY3NzIn0= */\"]\n});","map":{"version":3,"sources":["/home/saurabhsrivastava/projects/angular-projects/angular-supabase/src/app/auth/auth.component.ts"],"names":["i0","i1","AuthComponent","constructor","supabase","loading","handleLogin","input","signIn","alert","error","error_description","message","ɵfac","AuthComponent_Factory","t","ɵɵdirectiveInject","SupabaseService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","AuthComponent_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","AuthComponent_Template_button_click_10_listener","ɵɵrestoreView","_r0","ɵɵreference","value","ɵɵadvance","ɵɵproperty","ɵɵtextInterpolate1","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\nimport * as i1 from \"../supabase.service\";\nexport class AuthComponent {\n    constructor(supabase) {\n        this.supabase = supabase;\n        this.loading = false;\n    }\n    async handleLogin(input) {\n        try {\n            this.loading = true;\n            await this.supabase.signIn(input);\n            alert('Check your email for the login link!');\n        }\n        catch (error) {\n            alert(error.error_description || error.message);\n        }\n        finally {\n            this.loading = false;\n        }\n    }\n}\nAuthComponent.ɵfac = function AuthComponent_Factory(t) { return new (t || AuthComponent)(i0.ɵɵdirectiveInject(i1.SupabaseService)); };\nAuthComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: AuthComponent, selectors: [[\"app-auth\"]], decls: 12, vars: 2, consts: [[1, \"row\", \"flex\", \"flex-center\"], [1, \"col-6\", \"form-widget\"], [1, \"header\"], [1, \"description\"], [\"type\", \"email\", \"placeholder\", \"Your email\", 1, \"inputField\"], [\"input\", \"\"], [\"type\", \"submit\", 1, \"button\", \"block\", 3, \"disabled\", \"click\"]], template: function AuthComponent_Template(rf, ctx) { if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"form\", 1);\n        i0.ɵɵelementStart(2, \"h1\", 2);\n        i0.ɵɵtext(3, \"Supabase + Angular\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"p\", 3);\n        i0.ɵɵtext(5, \"Sign in via magic link with your email below\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\");\n        i0.ɵɵelement(7, \"input\", 4, 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\");\n        i0.ɵɵelementStart(10, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function AuthComponent_Template_button_click_10_listener() { i0.ɵɵrestoreView(_r1); const _r0 = i0.ɵɵreference(8); return ctx.handleLogin(_r0.value); });\n        i0.ɵɵtext(11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"disabled\", ctx.loading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.loading ? \"Loading\" : \"Send magic link\", \" \");\n    } }, styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhdXRoLmNvbXBvbmVudC5zY3NzIn0= */\"] });\n"]},"metadata":{},"sourceType":"module"}